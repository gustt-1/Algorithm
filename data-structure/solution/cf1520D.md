# [cf1520D] [Same Differences](https://codeforces.com/problemset/problem/1520/D)

## 题目描述
You are given an array $a$ of $n$ integers. Count the number of pairs of indices $(i, j)$ such that $i < j$ and $a_j - a_i = j - i$.

---
## 题目大意
给您一个包含 $n$ 个整数的数组 $a$ 。计算索引对 $(i, j)$ 的数量，使得 $i<j$ 和 $a_j - a_i = j - i$ 。

## 输入

>


## 输出

>

---

## 我的思路
**前缀和**

> 我们对 $a_j - a_i = j - i$ 进行移项可以得到 $a_j - j = a_i - i$ ，看成一个函数那也就是 $f_j = f_i$ 也就是找相等的，我们用一个哈希表来记录前缀 $f_i$ ，如果 $f_j$ 在哈希表里有值，我们直接加入答案即可。

---

## 时间复杂度

$O()$

---

## 空间复杂度

$O()$

---

## Go 代码

```Go
package main

import (
	"bufio"
	. "fmt"
	"io"
	"os"
)

const inf = 0x3f3f3f3f

type (
	i8  = int8
	i64 = int64
	i32 = int32
	u64 = uint64
	u32 = uint32
	f32 = float32
	f64 = float64
)

type pair struct {
	bea, mon int
}

func solve(in io.Reader, out io.Writer) {
	var T int
	for Fscan(in, &T); T > 0; T-- {
		var n int
		Fscan(in, &n)
		ans := 0
		cnt := map[int]int{}
		var v int
		for i := range n {
			Fscan(in, &v)
			if val, ok := cnt[v-i]; ok {
				ans += val
			}
			cnt[v-i]++
		}
		Fprintln(out, ans)
	}
}

func abs(x int) int {
	if x < 0 {
		return -x
	}
	return x
}

func abs64(x i64) i64 {
	if x < 0 {
		return -x
	}
	return x
}

func gcd(x, y int) int {
	for y != 0 {
		x, y = y, x%y
	}
	return x
}

func max64(x, y i64) i64 {
	if x > y {
		return x
	}
	return y
}

func min64(x, y i64) i64 {
	if x < y {
		return x
	}
	return y
}

func main() {
	solve(bufio.NewReader(os.Stdin), os.Stdout)
}

```
---

## C++ 代码

```C++
```
---
## Python 代码

```Python
```
